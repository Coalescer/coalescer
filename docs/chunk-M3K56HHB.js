import{a as T}from"./chunk-EGOUDODS.js";import{a as M}from"./chunk-SYPPO7NN.js";import{A as I,B as O,F as E,e as x,f as i,g as _,h as v,i as j,j as p,k as a,l as o,m as g,o as d,p as u,q as f,r,s as h,t as s,y as C,z as P}from"./chunk-Z6ARPKLO.js";import"./chunk-JS3ZFT6L.js";function y(c,n){if(c&1&&g(0,"img",8),c&2){let e=n.$implicit,t=n.index,l=u();f("active",t===l.leftIndex),p("src",e,x)}}function k(c,n){if(c&1&&g(0,"img",8),c&2){let e=n.$implicit,t=n.index,l=u();f("active",t===l.rightIndex),p("src",e,x)}}function L(c,n){if(c&1&&(a(0,"section",9)(1,"h1"),r(2),o()()),c&2){let e=u();i(2),h(e.project==null?null:e.project.TITLE)}}function A(c,n){if(c&1&&(a(0,"section",10)(1,"div",11)(2,"p",12),r(3),o(),a(4,"small"),r(5),o(),g(6,"br")(7,"br"),a(8,"p",13),r(9),o()(),a(10,"div",14)(11,"p")(12,"strong"),r(13),o(),r(14),o(),a(15,"p")(16,"strong"),r(17),o(),r(18),o(),a(19,"p")(20,"strong"),r(21),o(),r(22),o(),a(23,"p")(24,"strong"),r(25),o(),r(26),o()()()),c&2){let e=u();i(3),h(e.project==null?null:e.project.QUOTE),i(2),h(e.project==null?null:e.project.AUTHOR),i(4),h(e.project==null?null:e.project.TEXT),i(4),s("",e.project==null?null:e.project.YEAR_LABEL,":"),i(),s(" ",e.project==null?null:e.project.YEAR),i(3),s("",e.project==null?null:e.project.LOCATION_LABEL,":"),i(),s(" ",e.project==null?null:e.project.LOCATION),i(3),s("",e.project==null?null:e.project.TYPE_LABEL,":"),i(),s(" ",e.project==null?null:e.project.TYPE),i(3),s("",e.project==null?null:e.project.TEAM_LABEL,":"),i(),s(" ",e.project==null?null:e.project.TEAM)}}var S=class c{constructor(n,e,t){this.route=n;this.projectsService=e;this.cdr=t}project;images=[];lineDraws=[];lang="pt";leftIndex=0;rightIndex=0;loading=!0;async ngOnInit(){let n=this.route.snapshot.paramMap.get("id");this.project=await this.projectsService.getProjectTranslations(n,this.lang);let{images:e,lineDraws:t}=this.projectsService.getProjectImages(n);this.images=e,this.lineDraws=t,this.loading=!1,this.cdr.detectChanges()}onCarouselClick(n,e){let t=n.currentTarget,l=n.offsetX,m=t.clientWidth/2,w=l<m?"prev":"next";this.changeSlide(e,w)}changeSlide(n,e){if(n==="left"){let t=this.images.length;this.leftIndex=e==="next"?(this.leftIndex+1)%t:(this.leftIndex-1+t)%t}else{let t=this.lineDraws.length;this.rightIndex=e==="next"?(this.rightIndex+1)%t:(this.rightIndex-1+t)%t}}async switchLang(n){let e=this.route.snapshot.paramMap.get("id");this.lang=n,this.project=await this.projectsService.getProjectTranslations(e,n),this.cdr.detectChanges()}static \u0275fac=function(e){return new(e||c)(_(E),_(T),_(C))};static \u0275cmp=v({type:c,selectors:[["coa-projects-component"]],decls:15,vars:8,consts:[[1,"carousels"],[1,"carousel","left",3,"click"],["oncontextmenu","return false;",3,"src","active",4,"ngFor","ngForOf"],[1,"carousel","right",3,"click"],["class","project-title",4,"ngIf"],["class","project-info",4,"ngIf"],[1,"language-switch"],[3,"click"],["oncontextmenu","return false;",3,"src"],[1,"project-title"],[1,"project-info"],[1,"left"],[1,"quote"],[1,"description"],[1,"right","meta"]],template:function(e,t){e&1&&(g(0,"coa-header-component"),a(1,"main",0)(2,"div",1),d("click",function(m){return t.onCarouselClick(m,"left")}),j(3,y,1,3,"img",2),o(),a(4,"div",3),d("click",function(m){return t.onCarouselClick(m,"right")}),j(5,k,1,3,"img",2),o()(),j(6,L,3,1,"section",4)(7,A,27,11,"section",5),a(8,"div",6)(9,"a",7),d("click",function(){return t.switchLang("pt")}),r(10,"PT"),o(),a(11,"span"),r(12,"|"),o(),a(13,"a",7),d("click",function(){return t.switchLang("en")}),r(14,"EN"),o()()),e&2&&(i(3),p("ngForOf",t.images),i(2),p("ngForOf",t.lineDraws),i(),p("ngIf",!t.loading),i(),p("ngIf",!t.loading),i(2),f("active",t.lang==="pt"),i(4),f("active",t.lang==="en"))},dependencies:[O,P,I,M],styles:["main.carousels[_ngcontent-%COMP%]{display:flex;height:80vh;padding:2rem 2rem 0rem 5rem}main.carousels[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;cursor:pointer}main.carousels[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;opacity:0;transition:opacity .5s ease;max-height:100%;max-width:100%;margin:auto;inset:0}main.carousels[_ngcontent-%COMP%]   .carousel[_ngcontent-%COMP%]   img.active[_ngcontent-%COMP%]{opacity:1}.project-title[_ngcontent-%COMP%]{text-align:center;margin:2rem 0}.project-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;letter-spacing:.05em}.project-info[_ngcontent-%COMP%]{padding:2rem 4rem;font-size:14px;line-height:1.5}.project-info[_ngcontent-%COMP%]   .quote[_ngcontent-%COMP%]{font-style:italic;margin-bottom:.5rem}.project-info[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{margin-top:2rem;font-size:13px;color:#444}.language-switch[_ngcontent-%COMP%]{position:fixed;bottom:1rem;right:2rem;font-size:.8rem}.language-switch[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none;margin:0 .2rem}.language-switch[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:700}"]})};export{S as ProjectsComponent};
